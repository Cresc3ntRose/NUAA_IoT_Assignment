# 本周作业

## 作业1
* 一般操作系统中，进程的每个段内部地址均连续，但段与段的相对次序可能不同.
* 用 C/CPP 语言写一个探测程序，探测 Windows、Linux 操作系统中进程的各段的相对位置(输出次序即可).

#### solution:
在 Linux 系统下，以进程 `System` 为例，其 pid 为 1，查看`proc/1/maps` 文件，我们可以看到[其内容](./maps.txt).

不难发现，`maps` 文件中的地址呈现是由小到大的，所以在 Linux 系统下，我们按照地址从小到大的次序依次输出各段.

在文件中，我们可以很轻易地发现`[heap]`与`[stack]`字样，不难推断出这就是堆与栈的所在地址. 同时通过查阅资料，可以得知：
* 代码段通常以 `r-xp` 的权限标记出现.
* 数据段通常以 `r--p` 的权限标记出现.

于是我们不难得到如下思路：
* 打开/proc/1/maps文件并查看其内容，然后进行查询，
* 当查询到r-xp时，就输出text，随后不再处理r-xp
* 当查询到r--p时，就输出data，随后不再处理r--p
* 当查询到[heap]时，就输出heap，随后不再处理[heap]
* 当查询到[stack]时，就输出stack，随后不再处理[steak]


## 作业2
* 实现一程序，分别在 Windows、Linux 操作系统下验证：
  * 栈、堆、数据区是否可读可写不可执行.
  * 代码段是否可读可写不可执行.